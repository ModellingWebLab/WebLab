{% extends "datasets/base.html" %}
{% load entities %}
{% load fittings %}
{% load staticfiles %}

{% block title %}Dataset : compare fitting experiments - {% endblock title %}

{% block content_detail %}
<div id="entityexperimentlist">
  <h3>Fitting Experiments run with this dataset</h3>
  <p>
  This dataset has been run with the following models.
  Click to view the latest results of each single fitting experiment, or select multiple fitting experiments to compare them.
  </p>

  <div id="entityexperimentlistpartners">
    <ul>
      {% for model, fittings in comparisons %}
        <li>
        {% with fittings.0.model_version as latest_model_version %}
        {{ model }}
          <ul>
            {% for fitting in fittings %}
              <li class="{% if fitting.model_version != latest_model_version %}latest-model-version{% else %}older-model-version{% endif %}">
                <input name='experimentVersionIds', value="{{ fitting.latest_version.id }}" type="checkbox">
                <a href="{% url 'fitting:result:version' fitting.id fitting.latest_version.id %}">
                  {{ fitting|name_of_fittingspec }}
                </a>
              </li>
            {% endfor %}
          </ul>
          {% endwith %}
        </li>
      {% endfor %}
    </ul>
  </div>

  <div id="entityexperimentlistpartnersact">
    [<a id="entityexperimentlistpartnersactall">select all</a>]
    <span id="entityexperimentlist_span_latest">[<a id="entityexperimentlistpartnersactlatest">select latest</a>]</span>
    [<a id="entityexperimentlistpartnersactnone">select none</a>]
    <br/>
    <button id="entityexperimentlist_showallversions">show all versions</button>
    <button id="entityexperimentlistpartnersactcompare" data-base-href="{% url_fitting_comparison_base %}">compare selected fittings</button>
  </div>
</div>
{% endblock content_detail %}
